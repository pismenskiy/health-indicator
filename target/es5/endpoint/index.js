function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}import{INTERNAL_SERVER_ERROR}from"../endpoint/statuses";var Endpoint=function(){function a(b){if(_classCallCheck(this,a),_defineProperty(this,"indicator",void 0),!b)throw new Error("Indicator param is required");return this.indicator=b,this}return _createClass(a,[{key:"middleware",value:function middleware(a,b){try{var c=this.indicator.health(),d=c.status,e=this.indicator.constructor.getHttpCode(d);this.constructor.send(b,e,c)}catch(a){this.constructor.send(b,INTERNAL_SERVER_ERROR,{error:"Health check obtain failed"})}}}],[{key:"send",value:function send(a,b,c){a.writeHead(+b,{"Content-Type":"application/json"}),a.end(JSON.stringify(c))}}]),a}();export{Endpoint as default};